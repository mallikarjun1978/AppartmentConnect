<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Add Facilities</title>
	<!-- Bootstrap 5 CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<!-- Font Awesome for Icons -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
	<!-- Custom CSS -->
	<style>
		body {
		    background: linear-gradient(to right, lightyellow, orange);
		}


		.container {
			max-width: 600px;
			margin-top: 50px;
			background: white;
			padding: 30px;
			border-radius: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		}

		.form-control:focus {
			box-shadow: none;
			border-color: #0d6efd;
		}

		.btn-custom {
			background-color: #0d6efd;
			color: white;
		}

		.btn-custom:hover {
			background-color: #0056b3;
		}

		/* Custom dark blue navbar */
		.navbar {
			background-color: royalblue !important;
			/* Dark blue background */
		}

		/* Navbar links color: white */
		.navbar-nav .nav-item .nav-link {
			color: white !important;
			/* White text */
		}

		/* Navbar links hover effect */
		.navbar-nav .nav-item .nav-link:hover {
			color: #d1e7fd !important;
			/* Light blue color on hover */
			text-decoration: underline;
			/* Optional: add underline on hover */
		}

		/* Adjusting navbar toggler icon color */
		.navbar .navbar-toggler-icon {
			background-color: white;
			/* White color for the toggler icon */
		}

		/* Optional: add some space between icons and text */
		.nav-link i {
			margin-right: 8px;
		}
		.container {
		    box-shadow: 0 4px 8px rgba(0, 86, 179, 0.5); /* Blue shadow with transparency */
		}

	</style>
</head>

<body>

	<!-- Include the navigation menu -->
	<div th:insert="~{adminmenu :: nav}"></div>

	<div class="container">
		<h2 class="text-center mb-4">Add New Facility</h2>
		<form id="addFacilityForm">
			<div class="mb-3">
			           <label for="facilityName" class="form-label">Facility Name</label>
			           <input type="text" class="form-control" id="facilityName" name="facilityName" required>
			       </div>

			       <div class="mb-3">
			           <label for="description" class="form-label">Description</label>
			           <textarea class="form-control" id="description" name="description" rows="3"></textarea>
			       </div>

			       <div class="mb-3">
			           <label for="availableTime" class="form-label">Available Time</label>
			           <input type="text" class="form-control" id="availableTime" name="availableTime" required>
			       </div>

			       <div class="mb-3">
			           <label for="maxCapacity" class="form-label">Max Capacity</label>
			           <input type="number" class="form-control" id="maxCapacity" name="maxCapacity" min="1" required>
			       </div>

			       <div class="form-check mb-3">
			           <input type="checkbox" class="form-check-input" id="isActive" name="isActive" checked>
			           <label class="form-check-label" for="isActive">Active</label>
			       </div>
			<button type="submit" class="btn btn-custom w-100">
				<i class="fas fa-plus"></i> Add Facility
			</button>
		</form>
		<div id="responseMessage" class="mt-3 text-center"></div>
	</div>

	<!-- jQuery & Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

	<!-- JavaScript for Form Submission -->
	<script>
		$(document).ready(function () {
			$('#addFacilityForm').submit(function (event) {
				event.preventDefault();

				const facilityData = {
				    facilityName: $('#facilityName').val(),
				    description: $('#description').val(),
				    availableTime: $('#availableTime').val(),
				    maxCapacity: parseInt($('#maxCapacity').val()),
				    isActive: $('#isActive').is(':checked')
				};


				console.log('Sending data:', facilityData);
				
				$.ajax({
					url: '/add-facilities',
					type: 'POST',
					contentType: 'application/json',
					data: JSON.stringify(facilityData),
					success: function (response) {
						console.log('Success:', response);
						$('#responseMessage').html('<div class="alert alert-success">Facility added successfully!</div>');
						$('#addFacilityForm')[0].reset();
					},
					error: function (xhr, status, error) {
						console.log('Error:', status, error);
						$('#responseMessage').html('<div class="alert alert-danger">Failed to add facility. Please try again.</div>');
					}
				});
			});
		});
	</script>
</body>

</html>